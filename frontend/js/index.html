<!DOCTYPE html>

<html>

<head>
    <script src="/frontend/js/src/acceleration.js"></script>
    <script src="/frontend/js/src/acceleration-loading.js"></script>
    <script>
        class HelloWorld extends AccelerationComponent {
            
            connectedCallback() {
                let text = this.props["text"]
                this.innerHTML = `<h1> ${text} </h1>`;
            }
        }
        customElements.define("hello-world", HelloWorld);

        class OldWorld extends AccelerationComponent {
            
            connectedCallback() {
                let text = this.props["text"]
                this.innerHTML = `<p> ${text} </p>`;
            }
        }
        customElements.define("old-world", OldWorld);

        function displayErrors(errors){
            console.log("inhere")
            if(errors.name){
                document.getElementById("name-error").innerText = errors.name
                document.getElementById("name-error").hidden = false
            }

        }

        function submit_form(event){
            form(event,"/backend/php/index.php","GET",displayErrors)
        }
        
    </script>
</head>

<body>
    <div id="main" x-page='{"component":"old-world","props":{"text":"Hallo Chrisi"}}'></div>
    <bar-loader id="loading-element"></bar-loader>
    <form onsubmit="submit_form(event)">
        <label hidden="true" id="name-error">Error</label>
        <input name="name" type="text"/>
        <input type="submit" value="Send"/>
    </form>
</body>

</html>